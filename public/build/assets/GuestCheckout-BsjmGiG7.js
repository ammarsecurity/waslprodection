import{_ as pe,u as me,x as he,G as ve,a as fe,aa as se,r as P,ab as O,w as N,o as _e,y as oe,b as be,c as i,d,f as t,h as I,i as re,l as U,t as n,g as _,A as x,e as p,B as T,s as k,F as A,j as D,a6 as ye,$ as R,T as ge,a1 as xe}from"./app-CQmvuHcY.js";import{r as ke}from"./HomeIcon-fwVMazAL.js";const we={class:"main-container"},$e={class:"flex items-center gap-2 overflow-hidden pt-4"},Ce={class:"grow w-full overflow-hidden"},Me={class:"space-x-1 text-slate-600 text-sm font-normal truncate"},je={class:"grid grid-cols-1 xl:grid-cols-3 my-3 gap-8"},Be={class:"col-span-1 xl:col-span-2 space-y-6"},ze={class:"p-6 bg-white rounded-2xl border border-slate-200 shadow-sm"},Ve={class:"text-slate-950 text-xl font-medium leading-7 mb-4 flex items-center gap-2"},qe={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Pe={class:"form-label"},Se=["placeholder"],He={key:0,class:"mt-1 text-sm text-red-600"},Te={class:"form-label"},Ee=["placeholder"],Le={key:0,class:"mt-1 text-sm text-red-600"},Oe={class:"p-6 bg-white rounded-2xl border border-slate-200 shadow-sm"},Ne={class:"text-slate-950 text-xl font-medium leading-7 mb-4 flex items-center gap-2"},Ue={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ae={class:"form-label"},De={class:"text-xs text-slate-500"},Fe=["onUpdate:modelValue","onChange"],Ge={value:"",disabled:""},Qe=["value"],Ie={key:0,class:"mt-1 text-sm text-red-600"},Re={class:"form-label"},We=["placeholder"],Je={key:0,class:"mt-1 text-sm text-red-600"},Ke={class:"form-label"},Xe=["placeholder"],Ye={class:"p-6 bg-white rounded-2xl border border-slate-200 shadow-sm"},Ze={class:"mb-4 flex items-center gap-2"},et={class:"text-slate-950 text-xl font-medium leading-7"},tt={class:"text-slate-500 text-lg font-normal leading-7 tracking-tight"},st=["placeholder"],ot={class:"mt-1 text-xs text-slate-500"},rt={class:"p-6 bg-white rounded-2xl border border-slate-200 shadow-sm"},nt={class:"text-slate-950 text-xl font-medium leading-7 mb-4 flex items-center gap-2"},at={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},lt={class:"text-slate-700 text-base font-medium"},it={key:0,class:"ml-auto"},dt={class:"text-slate-700 text-base font-medium"},ut={key:0,class:"ml-auto"},ct={key:0,class:"mt-2 text-sm text-red-600"},pt={key:0,class:"mt-6 pt-6 border-t border-slate-200"},mt={class:"text-slate-700 block text-lg font-medium mb-4"},ht={class:"grid grid-cols-2 sm:grid-cols-3 gap-4"},vt=["for"],ft=["id","value"],_t=["src"],bt={key:1,class:"mt-2 text-sm text-red-600"},yt={class:"flex flex-col sm:flex-row gap-4 items-center"},gt=["disabled"],xt={key:0,class:"animate-spin h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24"},kt={key:1,class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},wt={key:0,class:"text-sm text-red-600 flex items-center gap-2"},$t={class:"sticky top-4"},Ct={class:"p-6 bg-white rounded-2xl border border-slate-200 shadow-sm"},Mt={class:"text-slate-950 text-xl font-medium leading-7 mb-6 flex items-center gap-2"},jt={class:"ml-auto bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full"},Bt={key:0,class:"text-slate-500 text-center py-12"},zt={class:"text-lg font-medium mb-2"},Vt={class:"text-sm"},qt={key:1,class:"space-y-6"},Pt={class:"flex items-start gap-4 mb-4"},St={class:"flex-shrink-0"},Ht=["src","alt"],Tt={key:1,class:"w-16 h-16 bg-slate-200 rounded-lg border border-slate-300 flex items-center justify-center"},Et={class:"flex-grow min-w-0"},Lt={class:"font-semibold text-slate-900 text-base mb-1 line-clamp-2"},Ot={key:0,class:"flex items-center gap-2 mb-2"},Nt=["src"],Ut={class:"text-sm text-slate-600"},At={key:1,class:"flex items-center gap-1"},Dt={class:"text-xs text-slate-500"},Ft=["onClick"],Gt={key:0,class:"flex gap-2 mb-3"},Qt={key:0,class:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-md"},It={key:1,class:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-md"},Rt={class:"flex items-center justify-between"},Wt={class:"flex items-center gap-3"},Jt={class:"text-sm text-slate-600"},Kt={class:"flex items-center gap-2"},Xt=["onClick","disabled"],Yt={class:"min-w-[3rem] text-center font-medium"},Zt=["onClick"],es={class:"text-right"},ts={class:"text-sm text-slate-500"},ss={class:"text-lg font-bold text-slate-900"},os={class:"border-t border-slate-200 pt-6 space-y-4"},rs={class:"flex items-center justify-between text-base"},ns={class:"text-slate-700"},as={class:"font-semibold text-slate-900"},ls={class:"flex items-center justify-between text-base"},is={class:"flex items-center gap-2"},ds={class:"text-slate-700"},us={class:"relative group"},cs={class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10"},ps={class:"flex items-center gap-1"},ms={key:0,class:"font-semibold text-blue-600"},hs={key:1,class:"font-semibold text-green-600 flex items-center gap-1"},vs={class:"border-t border-slate-200 pt-4"},fs={class:"flex items-center justify-between bg-gradient-to-r from-primary/10 to-primary/5 rounded-xl p-4"},_s={class:"text-slate-900 text-lg font-bold"},bs={class:"text-primary text-2xl font-bold"},ys={__name:"GuestCheckout",setup(gs){const j=me(),w=he(),y=ve(),W=fe(),r=se({name:"",phone:"",shop_ids:[],products:[{product_id:null,shop_id:null,quantity:1}],address:{name:"",phone:"",address_line:"",area:"",road_no:"",house_no:"",address_line2:"",nearest_landmark:""},note:"",payment_method:j.cashOnDelivery?"cash":"card",coupon_code:""}),$=P({}),v=P({}),f=P(r.payment_method==="cash"?"cash":"card"),B=P(null),z=P(!1),C=P(0),a=se({name:"",phone:"",province:"",area:"",payment_method:"",payment_gateway:"",general:""}),ne=O(()=>Object.values(a).some(s=>s!=="")),F=s=>{var e,l,o;switch(s){case"name":a.name=(e=r.name)!=null&&e.trim()?"":"الاسم مطلوب";break;case"phone":if(!((l=r.phone)!=null&&l.trim()))a.phone="رقم الهاتف مطلوب";else{const u=r.phone.trim().replace(/[\s\-\(\)]/g,"");/^(077|078|074|075)\d{8}$/.test(u)?a.phone="":a.phone="رقم الهاتف يجب أن يكون 11 رقم ويبدأ بـ 077 أو 078 أو 074 أو 075"}break;case"province":a.province="";for(const u of r.shop_ids)if(!v.value[u]){a.province="يرجى اختيار المحافظة لجميع المتاجر";break}break;case"area":a.area=(o=r.address.area)!=null&&o.trim()?"":"المنطقة مطلوبة";break}};function J(){const s=["name","phone","province","area"];for(const e of s)if(a[e]){const l=document.querySelector('[class*="border-red-300"]')||document.querySelector(`input[v-model*="${e}"]`)||document.querySelector('select[v-model*="selectedProvinces"]');if(l){l.scrollIntoView({behavior:"smooth",block:"center"}),l.focus();break}}}N(f,()=>{r.payment_method=f.value==="card"?B.value:f.value}),N(B,()=>{f.value==="card"&&(r.payment_method=B.value)});async function ae(){var e,l,o,u,m,E,ee,te;Object.keys(a).forEach(h=>{a[h]=""});let s=!1;if((!r.name||r.name.trim()==="")&&(a.name="الاسم مطلوب",s=!0),!r.phone||r.phone.trim()==="")a.phone="رقم الهاتف مطلوب",s=!0;else{const h=r.phone.trim().replace(/[\s\-\(\)]/g,"");/^(077|078|074|075)\d{8}$/.test(h)||(a.phone="رقم الهاتف يجب أن يكون 11 رقم ويبدأ بـ 077 أو 078 أو 074 أو 075",s=!0)}for(const h of r.shop_ids)if(!v.value[h]){a.province="يرجى اختيار المحافظة لجميع المتاجر",s=!0;break}if((!r.address.area||r.address.area.trim()==="")&&(a.area="المنطقة مطلوبة",s=!0),!r.products||r.products.length===0){y.error("يرجى إضافة منتجات إلى السلة أولاً",{position:g(),timeout:5e3});return}if(!r.payment_method){y.error("يرجى اختيار طريقة الدفع",{position:g(),timeout:5e3});return}if(f.value==="card"&&!B.value){y.error("يرجى اختيار بوابة الدفع",{position:g(),timeout:5e3});return}if(s){y.error("يرجى تصحيح الأخطاء المذكورة أعلاه",{position:g(),timeout:5e3}),J();return}z.value=!0;try{if(y.info("جاري معالجة الطلب...",{position:g(),timeout:2e3}),r.shop_ids=[...new Set(r.products.map(c=>c.shop_id).filter(Boolean))],await S(),r.address.name=r.name,r.address.phone=r.phone,r.address.address_line2=r.address.area,r.shop_ids.length>0){const c=r.shop_ids[0],L=v.value[c];if(L){const H=(e=$.value[c])==null?void 0:e.find(Q=>Q.id==L);H&&(r.address.address_line=H.province_name)}}const h={...r,subtotal:G.value,delivery_charge:C.value,total:Y.value,provinces:Object.fromEntries(Object.entries(v.value).map(([c,L])=>{var H;return[c,(H=$.value[c])==null?void 0:H.find(Q=>Q.id==L)]}))},{data:b}=await oe.post("/guest/place-order",h);if(w.products=[],y.success(b.message||"تم إرسال الطلب بنجاح!",{position:g(),timeout:5e3}),(l=b==null?void 0:b.data)!=null&&l.order_payment_url)y.info("جاري التوجه لصفحة الدفع...",{position:g(),timeout:3e3}),setTimeout(()=>{window.location.href=b.data.order_payment_url},1500);else{const c=r.shop_ids[0];c?(y.success("سيتم توجيهك إلى المتجر...",{position:g(),timeout:2e3}),setTimeout(()=>{W.push(`/shops/${c}`)},2e3)):setTimeout(()=>{W.push("/")},2e3)}}catch(h){console.error("Order submission error:",h);let b="فشل في إرسال الطلب";if(((o=h.response)==null?void 0:o.status)===422&&((m=(u=h.response)==null?void 0:u.data)!=null&&m.errors)){const c=h.response.data.errors;c.name&&(a.name=c.name[0]),c.phone&&(a.phone=c.phone[0]),c["address.area"]&&(a.area=c["address.area"][0]),c.provinces&&(a.province=c.provinces[0]),b="يرجى تصحيح الأخطاء المذكورة",J()}else(ee=(E=h.response)==null?void 0:E.data)!=null&&ee.message?b=h.response.data.message:((te=h.response)==null?void 0:te.status)===500?b="خطأ في الخادم، يرجى المحاولة لاحقاً":navigator.onLine||(b="تحقق من اتصال الإنترنت");y.error(b,{position:g(),timeout:6e3})}finally{z.value=!1}}const le=s=>{s&&(a.province="");const e=($.value[r.shop_ids[0]]||[]).find(l=>l.id==s);r.address.address_line=e?e.province_name:"",S()};_e(async()=>{if(w.products.length>0){const s=[];for(const e of w.products){const l=await K(e.shop_id);$.value[e.shop_id]=l,e.products.forEach(o=>{s.push({product_id:o.id,shop_id:e.shop_id,quantity:o.quantity||1})})}r.products=s,r.shop_ids=[...new Set(s.map(e=>e.shop_id))],await S()}});async function K(s){try{const{data:e}=await oe.get(`shop/${s}/provinces-delivery-charges`);return e.data||[]}catch(e){return console.error("Error fetching provinces:",e),[]}}const M=O(()=>{const s=[];return w.products.forEach(e=>{e.products.forEach(l=>{s.push({id:l.id,name:l.name,thumbnail:l.thumbnail,shop_id:e.shop_id,shop_name:e.shop_name,shop_thumbnail:e.shop_thumbnail,shop_rating:e.shop_rating,size_name:l.size_name,color_name:l.color_name,unit_price:l.unit_price,quantity:l.quantity||1})})}),s});function ie(s){const e=M.value[s];if(!e)return;r.products[s]&&r.products.splice(s,1);const l=w.products.find(o=>o.shop_id===e.shop_id);l&&(l.products=l.products.filter(o=>o.id!==e.id),l.products.length===0&&(w.products=w.products.filter(o=>o.shop_id!==e.shop_id))),r.shop_ids=[...new Set(r.products.map(o=>o.shop_id).filter(Boolean))],S()}function de(s){return s.unit_price??0}function X(s,e){const l=de(s)||0,o=Number(e||s.quantity||1);return+(l*o).toFixed(2)}const G=O(()=>M.value.reduce((s,e,l)=>{const o=r.products[l],u=(o==null?void 0:o.quantity)||e.quantity||1;return s+X(e,u)},0)),Y=O(()=>G.value+C.value),S=async()=>{let s=0;for(const e of r.shop_ids){const l=$.value[e]||[],o=v.value[e],u=l.find(m=>m.id==o);s+=u?Number(u.delivery_charge):0}C.value=s};N(()=>r.shop_ids,async s=>{if(s.length>0){for(const e of s)$.value[e]=await K(e);for(const e of s)v.value[e]||(v.value[e]="");C.value=0}else $.value={},v.value={},C.value=0},{deep:!0}),N(v,S,{deep:!0});function V(s){var e,l;return((e=r.products[s])==null?void 0:e.quantity)||((l=M.value[s])==null?void 0:l.quantity)||1}function Z(s,e){const l=Number(e)||1;if(r.products[s])r.products[s].quantity=l;else{const m=M.value[s];r.products[s]={product_id:m.id,shop_id:m.shop_id,quantity:l}}const o=M.value[s],u=w.products.find(m=>m.shop_id===o.shop_id);if(u){const m=u.products.find(E=>E.id===o.id);m&&(m.quantity=l)}}function ue(s){const e=V(s);Z(s,e+1)}function ce(s){const e=V(s);e>1&&Z(s,e-1)}function q(s){try{return j.showCurrency?j.showCurrency(s):s}catch{return s}}function g(){return j.langDirection==="rtl"?"top-right":"top-left"}return(s,e)=>{const l=be("router-link");return d(),i("div",we,[t("div",$e,[I(l,{to:"/",class:"w-6 h-6"},{default:re(()=>[I(U(ke),{class:"w-5 h-5 text-slate-600 hover:text-slate-800 transition-colors"})]),_:1}),t("div",Ce,[t("div",Me,[t("span",null,n(s.$t("Home")),1),e[17]||(e[17]=t("span",null,"/",-1)),t("span",null,n(s.$t("Guest Checkout")),1)])])]),t("div",je,[t("div",Be,[t("div",ze,[t("div",Ve,[e[18]||(e[18]=t("svg",{class:"w-5 h-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),_(" "+n(s.$t("Contact Information"))+" ",1),e[19]||(e[19]=t("span",{class:"text-red-500 text-sm"},"*",-1))]),t("div",qe,[t("div",null,[t("label",Pe,[_(n(s.$t("Full Name"))+" ",1),e[20]||(e[20]=t("span",{class:"text-red-500"},"*",-1))]),x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.name=o),type:"text",class:k(["form-input",{"border-red-300 focus:border-red-500":a.name}]),placeholder:s.$t("Enter your full name"),onBlur:e[1]||(e[1]=o=>F("name")),onInput:e[2]||(e[2]=o=>a.name="")},null,42,Se),[[T,r.name]]),a.name?(d(),i("p",He,n(a.name),1)):p("",!0)]),t("div",null,[t("label",Te,[_(n(s.$t("Phone"))+" ",1),e[21]||(e[21]=t("span",{class:"text-red-500"},"*",-1))]),x(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>r.phone=o),type:"tel",class:k(["form-input",{"border-red-300 focus:border-red-500":a.phone}]),placeholder:s.$t("Enter your phone number (077xxxxxxxx)"),onBlur:e[4]||(e[4]=o=>F("phone")),onInput:e[5]||(e[5]=o=>a.phone="")},null,42,Ee),[[T,r.phone]]),a.phone?(d(),i("p",Le,n(a.phone),1)):p("",!0)])])]),t("div",Oe,[t("div",Ne,[e[22]||(e[22]=t("svg",{class:"w-5 h-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),_(" "+n(s.$t("Shipping Address"))+" ",1),e[23]||(e[23]=t("span",{class:"text-red-500 text-sm"},"*",-1))]),t("div",Ue,[(d(!0),i(A,null,D(r.shop_ids,o=>(d(),i("div",{key:o},[t("label",Ae,[_(n(s.$t("Governorate"))+" ("+n(s.$t("المحافظة"))+") ",1),e[24]||(e[24]=t("span",{class:"text-red-500"},"*",-1)),t("span",De,n(s.$t("Shop"))+" #"+n(o),1)]),x(t("select",{"onUpdate:modelValue":u=>v.value[o]=u,class:k(["form-input",{"border-red-300 focus:border-red-500":a.province&&!v.value[o]}]),onChange:u=>le(v.value[o])},[t("option",Ge,n(s.$t("Select province")),1),(d(!0),i(A,null,D($.value[o],u=>(d(),i("option",{key:u.id,value:u.id},n(u.province_name)+" - "+n(q(u.delivery_charge)),9,Qe))),128))],42,Fe),[[ye,v.value[o]]]),a.province&&!v.value[o]?(d(),i("p",Ie,n(a.province),1)):p("",!0)]))),128)),t("div",null,[t("label",Re,[_(n(s.$t("Province Area"))+" ",1),e[25]||(e[25]=t("span",{class:"text-red-500"},"*",-1))]),x(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>r.address.area=o),type:"text",class:k(["form-input",{"border-red-300 focus:border-red-500":a.area}]),placeholder:s.$t("Enter area"),onBlur:e[7]||(e[7]=o=>F("area")),onInput:e[8]||(e[8]=o=>a.area="")},null,42,We),[[T,r.address.area]]),a.area?(d(),i("p",Je,n(a.area),1)):p("",!0)]),t("div",null,[t("label",Ke,n(s.$t("Nearest Landmark")),1),x(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>r.address.nearest_landmark=o),type:"text",class:"form-input",placeholder:s.$t("The nearest landmark such as a mosque, school, hospital..")},null,8,Xe),[[T,r.address.nearest_landmark]])])])]),t("div",Ye,[t("div",Ze,[e[26]||(e[26]=t("svg",{class:"w-5 h-5 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),t("span",et,n(s.$t("Note")),1),t("span",tt," ("+n(s.$t("Optional"))+") ",1)]),x(t("textarea",{"onUpdate:modelValue":e[10]||(e[10]=o=>r.note=o),rows:"3",class:"form-input resize-none",placeholder:s.$t("Write your note here")+"...",maxlength:"500"},null,8,st),[[T,r.note]]),t("p",ot,n(r.note.length)+"/500",1)]),t("div",rt,[t("div",nt,[e[27]||(e[27]=t("svg",{class:"w-5 h-5 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1)),_(" "+n(s.$t("Payment Method"))+" ",1),e[28]||(e[28]=t("span",{class:"text-red-500 text-sm"},"*",-1))]),t("div",at,[U(j).cashOnDelivery?(d(),i("label",{key:0,for:"cash",class:k(["flex items-center gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:bg-slate-50",f.value==="cash"?"border-primary bg-primary/5":"border-slate-200"])},[x(t("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>f.value=o),id:"cash",name:"payment",type:"radio",class:"sr-only",value:"cash",onChange:e[12]||(e[12]=o=>a.payment_method="")},null,544),[[R,f.value]]),e[30]||(e[30]=t("div",{class:"p-2 bg-white rounded-xl border border-slate-200 shadow-sm"},null,-1)),t("span",lt,n(s.$t("Cash on delivery")),1),f.value==="cash"?(d(),i("div",it,e[29]||(e[29]=[t("svg",{class:"w-5 h-5 text-primary",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)]))):p("",!0)],2)):p("",!0),U(j).onlinePayment?(d(),i("label",{key:1,for:"card",class:k(["flex items-center gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:bg-slate-50",f.value==="card"?"border-primary bg-primary/5":"border-slate-200"])},[x(t("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>f.value=o),id:"card",name:"payment",type:"radio",class:"sr-only",value:"card",onChange:e[14]||(e[14]=o=>a.payment_method="")},null,544),[[R,f.value]]),e[32]||(e[32]=t("div",{class:"p-2 bg-white rounded-xl border border-slate-200 shadow-sm"},null,-1)),t("span",dt,n(s.$t("Credit or Debit Card")),1),f.value==="card"?(d(),i("div",ut,e[31]||(e[31]=[t("svg",{class:"w-5 h-5 text-primary",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)]))):p("",!0)],2)):p("",!0)]),a.payment_method?(d(),i("p",ct,n(a.payment_method),1)):p("",!0),I(ge,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:re(()=>[f.value==="card"?(d(),i("div",pt,[t("span",mt,n(s.$t("Available Payment Gateways")),1),t("div",ht,[(d(!0),i(A,null,D(U(j).paymentGateways,o=>(d(),i("label",{key:o.id,for:o.name,class:k(["flex items-center justify-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md",B.value===o.name?"border-primary shadow-lg bg-primary/5":"border-slate-200 hover:border-slate-300"])},[x(t("input",{"onUpdate:modelValue":e[15]||(e[15]=u=>B.value=u),id:o.name,name:"paymentGateway",type:"radio",class:"sr-only",value:o.name,onChange:e[16]||(e[16]=u=>a.payment_gateway="")},null,40,ft),[[R,B.value]]),t("img",{src:o.logo,alt:"",class:"w-24 h-12 object-contain"},null,8,_t)],10,vt))),128))])])):p("",!0)]),_:1}),a.payment_gateway?(d(),i("p",bt,n(a.payment_gateway),1)):p("",!0)]),t("div",yt,[t("button",{onClick:ae,disabled:z.value,class:k([{"opacity-50 cursor-not-allowed":z.value,"hover:bg-primary-600 hover:shadow-lg transform hover:scale-105":!z.value},"btn btn-primary w-full sm:w-auto flex items-center justify-center gap-3 transition-all duration-200 py-3 px-8 text-lg font-semibold"])},[z.value?(d(),i("svg",xt,e[33]||(e[33]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(d(),i("svg",kt,e[34]||(e[34]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))),t("span",null,n(z.value?s.$t("Processing Order..."):s.$t("Place Order")),1)],10,gt),ne.value?(d(),i("div",wt,[e[35]||(e[35]=t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.664-.833-2.464 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),_(" "+n(s.$t("Please fill in all required fields")),1)])):p("",!0)])]),t("div",$t,[t("div",Ct,[t("div",Mt,[e[36]||(e[36]=t("svg",{class:"w-5 h-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M8 11v6h8v-6H8z"})],-1)),_(" "+n(s.$t("Order Summary"))+" ",1),t("span",jt,n(M.value.length)+" "+n(s.$t("items")),1)]),M.value.length===0?(d(),i("div",Bt,[e[37]||(e[37]=t("svg",{class:"w-20 h-20 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M16 11V7a4 4 0 00-8 0v4M8 11v6h8v-6H8z"})],-1)),t("p",zt,n(s.$t("No products in cart")),1),t("p",Vt,n(s.$t("Add some products to get started")),1)])):(d(),i("div",qt,[(d(!0),i(A,null,D(M.value,(o,u)=>(d(),i("div",{key:`${o.id}-${o.shop_id}`,class:"product-item bg-slate-50 rounded-xl p-4 border border-slate-200"},[t("div",Pt,[t("div",St,[o.thumbnail?(d(),i("img",{key:0,src:o.thumbnail,class:"w-16 h-16 object-cover rounded-lg border border-slate-200",alt:o.name},null,8,Ht)):(d(),i("div",Tt,e[38]||(e[38]=[t("svg",{class:"w-6 h-6 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])))]),t("div",Et,[t("h3",Lt,n(o.name),1),o.shop_name?(d(),i("div",Ot,[o.shop_thumbnail?(d(),i("img",{key:0,src:o.shop_thumbnail,class:"w-4 h-4 rounded-full"},null,8,Nt)):p("",!0),t("span",Ut,n(o.shop_name),1),o.shop_rating?(d(),i("div",At,[e[39]||(e[39]=t("svg",{class:"w-3 h-3 text-yellow-400 fill-current",viewBox:"0 0 20 20"},[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.802 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.802-2.034a1 1 0 00-1.175 0l-2.802 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81H7.03a1 1 0 00.95-.69l1.07-3.292z"})],-1)),t("span",Dt,n(Number(o.shop_rating).toFixed(1)),1)])):p("",!0)])):p("",!0)]),t("button",{onClick:m=>ie(u),class:"text-red-500 hover:text-red-700 transition-colors"},e[40]||(e[40]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Ft)]),o.color_name||o.size_name?(d(),i("div",Gt,[o.size_name?(d(),i("span",Qt,[e[41]||(e[41]=t("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})],-1)),_(" "+n(o.size_name),1)])):p("",!0),o.color_name?(d(),i("span",It,[t("div",{class:"w-3 h-3 rounded-full border border-gray-300",style:xe(`background-color: ${o.color_name}`)},null,4),_(" "+n(o.color_name),1)])):p("",!0)])):p("",!0),t("div",Rt,[t("div",Wt,[t("span",Jt,n(s.$t("Quantity"))+":",1),t("div",Kt,[t("button",{onClick:m=>ce(u),class:k(["w-8 h-8 rounded-full border border-slate-300 flex items-center justify-center hover:bg-slate-100 transition-colors",{"opacity-50 cursor-not-allowed":V(u)<=1}]),disabled:V(u)<=1},e[42]||(e[42]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M18 12H6"})],-1)]),10,Xt),t("span",Yt,n(V(u)),1),t("button",{onClick:m=>ue(u),class:"w-8 h-8 rounded-full border border-slate-300 flex items-center justify-center hover:bg-slate-100 transition-colors"},e[43]||(e[43]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M12 6v12m6-6H6"})],-1)]),8,Zt)])]),t("div",es,[t("div",ts,n(q(o.unit_price))+" × "+n(V(u)),1),t("div",ss,n(q(X(o,V(u)))),1)])])]))),128)),t("div",os,[t("div",rs,[t("span",ns,n(s.$t("Subtotal")),1),t("span",as,n(q(G.value)),1)]),t("div",ls,[t("div",is,[e[46]||(e[46]=t("svg",{class:"w-4 h-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)),t("span",ds,n(s.$t("Delivery Charge")),1),t("div",us,[e[45]||(e[45]=t("svg",{class:"w-3 h-3 text-slate-400 cursor-help",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("div",cs,[_(n(C.value>0?s.$t("Calculated per shop")+" ("+r.shop_ids.length+" "+s.$t("shops")+")":s.$t("Free delivery"))+" ",1),e[44]||(e[44]=t("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"},null,-1))])])]),t("div",ps,[C.value>0?(d(),i("span",ms,n(q(C.value)),1)):(d(),i("span",hs,e[47]||(e[47]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),_(" 0 ")])))])]),t("div",vs,[t("div",fs,[t("div",_s,n(s.$t("Total")),1),t("div",bs,n(q(Y.value)),1)])])])]))])])])])}}},ws=pe(ys,[["__scopeId","data-v-908520a2"]]);export{ws as default};
