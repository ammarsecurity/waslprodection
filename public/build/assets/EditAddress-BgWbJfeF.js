import{aS as w,bC as X,u,aK as m,v as e,I as n,bM as q,bJ as i,t as x,H as $,b9 as d,by as y,at as g,bi as p,bw as A,bu as Q,bH as b,F as W,aC as Z,aX as ee}from"./vendor-Cy4BBKy_.js";import{a as te,u as se}from"./framework-C9q9PHhQ.js";import{u as ae,Y as oe,h as L,G as de,a4 as le,e as re,a9 as ne}from"./ui-BDBDEXQQ.js";import{_ as ie,u as ue,a as R,f as me,e as O}from"./app-i4sZYluG.js";import{_ as pe}from"./AuthPageHeader-B7hSdchQ.js";import"./icons-DjuF0c5-.js";import"./utilities-STV8t6c4.js";const ce={class:"p-6 bg-white rounded-2xl border border-slate-200 mt-3"},fe={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},he={for:"name",class:"form-label mb-2"},ve=["placeholder"],be={key:0,class:"text-red-500 text-sm"},_e={for:"Phone",class:"form-label mb-2"},xe=["placeholder","maxlength"],ye={key:0,class:"text-red-500 text-sm"},ge={class:"grid grid-cols-1 sm:grid-cols-1 gap-6 mt-6"},we={for:"Area",class:"form-label mb-2"},$e=["placeholder"],ke={key:0,class:"text-red-500 text-sm"},Ae={class:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-6"},Ce={for:"address",class:"form-label mb-2"},Ee=["placeholder"],Ve={key:0,class:"text-red-500 text-sm"},Me={for:"address2",class:"form-label mb-2"},Ue=["placeholder"],De={key:0,class:"text-red-500 text-sm"},Pe={class:"mt-4"},Se={class:"text-slate-950 text-base font-medium leading-normal"},je={class:"flex justify-between items-center gap-2 mt-2 flex-wrap"},Fe={class:"flex items-center gap-2"},Ne={for:"home",class:"px-3 py-2 bg-white rounded-[42px] border flex gap-2 items-center text-slate-600 text-base font-normal leading-normal cursor-pointer has-[:checked]:border-primary has-[:checked]:text-primary"},Be=["checked"],ze={class:"text-base font-normal"},Ie={for:"office",class:"px-3 py-2 bg-white rounded-[42px] border flex gap-2 items-center text-slate-600 text-base font-normal leading-normal cursor-pointer has-[:checked]:border-primary has-[:checked]:text-primary"},Te=["checked"],He={class:"text-base font-normal"},Le={for:"other",class:"px-3 py-2 bg-white rounded-[42px] border flex gap-2 items-center text-slate-600 text-base font-normal leading-normal cursor-pointer has-[:checked]:border-primary has-[:checked]:text-primary"},Oe=["checked"],Re={class:"text-base font-normal"},Ye={class:"flex items-center gap-2"},Ge=["checked"],Je={for:"default",class:"text-slate-500 text-sm font-normal leading-tight m-0"},Ke={class:"flex justify-between items-center gap-2 mt-6"},Xe={key:0,type:"submit",class:"px-4 py-3 md:px-6 md:py-4 bg-primary text-white text-sm md:text-base rounded-[10px] w-[140px] md:w-[152px]"},qe={key:1,type:"button",class:"px-4 py-3 md:px-6 md:py-4 bg-primary-200 text-primary text-sm md:text-base rounded-[10px] flex justify-center items-center gap-1",disabled:""},Qe={class:"text-red-500 text-base font-medium leading-normal"},We={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},Ze={class:"flex min-h-full items-center justify-center p-4 text-center sm:p-0"},et={class:"bg-white p-5 sm:p-8 text-center"},tt={class:"bg-red-500 w-14 h-14 md:w-20 md:h-20 rounded-full mx-auto flex justify-center items-center"},st={class:"mt-3 text-center text-gray-900 text-2xl md:text-3xl font-bold"},at={class:"mt-4 text-center text-slate-700 text-base md:text-xl font-normal"},ot={class:"flex justify-between items-center gap-4 mt-8"},dt={__name:"AddressEditForm",props:{address:Object},setup(C){const c=ue(),h=ae(),f=te(),r=R(),_=w(!1),v=C,a=w({name:"",phone:"",area:"",flat_no:"",post_code:"",address_line:"",address_line2:"",address_type:"home",latitude:"",longitude:"",is_default:!1});X(()=>v.address,()=>{a.value=v.address});const o=w({}),Y={component:O,props:{title:"Address Updated!",message:"Address updated successfully"}},G={component:O,props:{title:"Address Deleted!",message:"Address deleted successfully"}},J=()=>{axios.delete(`/address/${v.address.id}/delete`,{headers:{Authorization:r.token}}).then(()=>{h(G,{type:"default",hideProgressBar:!0,icon:!1,position:c.langDirection==="rtl"?"bottom-right":"bottom-left",toastClassName:"vue-toastification-alert",timeout:2e3}),f.push({name:"manage-address"})}).catch(s=>{h.error(s.response.data.message,{position:c.langDirection==="rtl"?"bottom-right":"bottom-left"}),s.response.status===401&&(r.token=null,r.user=null,r.addresses=[],r.favoriteProducts=0,f.push("/"))})},k=w(!1),K=()=>{k.value=!0,axios.post(`/address/${v.address.id}/update`,a.value,{headers:{Authorization:r.token}}).then(()=>{k.value=!1,a.value={},h(Y,{type:"default",hideProgressBar:!0,icon:!1,position:c.langDirection==="rtl"?"bottom-right":"bottom-left",toastClassName:"vue-toastification-alert",timeout:2e3}),f.push({name:"manage-address"})}).catch(s=>{k.value=!1,o.value=s.response.data.errors,h.error(s.response.data.message,{position:c.langDirection==="rtl"?"bottom-right":"bottom-left"}),s.response.status===401&&(r.token=null,r.user=null,r.addresses=[],r.favoriteProducts=0,f.push("/"))})};return(s,t)=>{var E,V,M,U,D,P,S,j,F,N,B,z,I,T,H;return m(),u(W,null,[e("div",ce,[e("form",{onSubmit:t[11]||(t[11]=q(l=>K(),["prevent"]))},[e("div",fe,[e("div",null,[e("label",he,[$(d(s.$t("Name"))+" ",1),t[14]||(t[14]=e("small",{class:"text-red-500"},"*",-1))]),i(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=l=>a.value.name=l),placeholder:s.$t("Enter name"),class:g(["form-input",o.value&&((E=o.value)!=null&&E.name)?"border-red-500":"border-slate-200"])},null,10,ve),[[y,a.value.name]]),o.value&&((V=o.value)!=null&&V.name)?(m(),u("span",be,d((M=o.value)==null?void 0:M.name[0]),1)):x("",!0)]),e("div",null,[e("label",_e,[$(d(s.$t("Phone"))+" ",1),t[15]||(t[15]=e("small",{class:"text-red-500"},"*",-1))]),i(e("input",{type:"text",id:"Phone",placeholder:s.$t("Enter phone"),value:"0123456789",class:g(["form-input",o.value&&((U=o.value)!=null&&U.phone)?"border-red-500":"border-slate-200"]),"onUpdate:modelValue":t[1]||(t[1]=l=>a.value.phone=l),maxlength:p(c).phoneMaxLength,onInput:t[2]||(t[2]=l=>a.value.phone=a.value.phone.replace(/[^\d]/g,""))},null,42,xe),[[y,a.value.phone]]),o.value&&((D=o.value)!=null&&D.phone)?(m(),u("span",ye,d((P=o.value)==null?void 0:P.phone[0]),1)):x("",!0)])]),e("div",ge,[e("div",null,[e("label",we,d(s.$t("Area")),1),i(e("input",{type:"text",id:"Area",placeholder:s.$t("Enter Area"),class:g(["form-input",o.value&&((S=o.value)!=null&&S.area)?"border-red-500":"border-slate-200"]),"onUpdate:modelValue":t[3]||(t[3]=l=>a.value.area=l)},null,10,$e),[[y,a.value.area]]),o.value&&((j=o.value)!=null&&j.area)?(m(),u("span",ke,d((F=o.value)==null?void 0:F.area[0]),1)):x("",!0)])]),e("div",Ae,[e("div",null,[e("label",Ce,[$(d(s.$t("Address Line 1"))+" ",1),t[16]||(t[16]=e("small",{class:"text-red-500"},"*",-1))]),i(e("input",{type:"text",id:"address","onUpdate:modelValue":t[4]||(t[4]=l=>a.value.address_line=l),placeholder:s.$t("Enter address 1"),class:g(["form-input",o.value&&((N=o.value)!=null&&N.address_line)?"border-red-500":"border-slate-200"])},null,10,Ee),[[y,a.value.address_line]]),o.value&&((B=o.value)!=null&&B.address_line)?(m(),u("span",Ve,d((z=o.value)==null?void 0:z.address_line[0]),1)):x("",!0)]),e("div",null,[e("label",Me,d(s.$t("Address Line 2")),1),i(e("input",{type:"text",id:"address2","onUpdate:modelValue":t[5]||(t[5]=l=>a.value.address_line2=l),placeholder:s.$t("Enter address 2"),value:"",class:g(["form-input",o.value&&((I=o.value)!=null&&I.address_line2)?"border-red-500":"border-slate-200"])},null,10,Ue),[[y,a.value.address_line2]]),o.value&&((T=o.value)!=null&&T.address_line2)?(m(),u("span",De,d((H=o.value)==null?void 0:H.address_line2[0]),1)):x("",!0)])]),e("div",Pe,[e("div",Se,d(s.$t("Address Tag")),1),e("div",je,[e("div",Fe,[e("label",Ne,[i(e("input",{type:"radio",id:"home","onUpdate:modelValue":t[6]||(t[6]=l=>a.value.address_type=l),name:"tag",value:"home",class:"radio-btn",checked:a.value.address_type==="home"},null,8,Be),[[A,a.value.address_type]]),e("span",ze,d(s.$t("HOME")),1)]),e("label",Ie,[i(e("input",{type:"radio",id:"office","onUpdate:modelValue":t[7]||(t[7]=l=>a.value.address_type=l),name:"tag",value:"office",class:"radio-btn",checked:a.value.address_type==="office"},null,8,Te),[[A,a.value.address_type]]),e("span",He,d(s.$t("OFFICE")),1)]),e("label",Le,[i(e("input",{type:"radio",id:"other","onUpdate:modelValue":t[8]||(t[8]=l=>a.value.address_type=l),name:"tag",value:"other",class:"radio-btn",checked:a.value.address_type==="other"},null,8,Oe),[[A,a.value.address_type]]),e("span",Re,d(s.$t("OTHER")),1)])]),e("div",Ye,[i(e("input",{id:"default","onUpdate:modelValue":t[9]||(t[9]=l=>a.value.is_default=l),name:"default",type:"checkbox",class:"w-4 h-4",checked:a.value.is_default},null,8,Ge),[[Q,a.value.is_default]]),e("label",Je,d(s.$t("Make it default address")),1)])]),e("div",Ke,[k.value?(m(),u("button",qe,[$(d(s.$t("Processing"))+" ",1),n(me)])):(m(),u("button",Xe,d(s.$t("Update")),1)),e("button",{type:"button",class:"bg-white rounded-lg py-2 md:py-4 px-2",onClick:t[10]||(t[10]=l=>_.value=!0)},[e("div",Qe,d(s.$t("Delete this")),1)])])])],32)]),n(p(re),{as:"template",show:_.value},{default:b(()=>[n(p(oe),{as:"div",class:"relative z-10",onClose:t[13]||(t[13]=l=>_.value=!1)},{default:b(()=>[n(p(L),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:b(()=>t[17]||(t[17]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1,__:[17]}),e("div",We,[e("div",Ze,[n(p(L),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:b(()=>[n(p(de),{class:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:b(()=>[e("div",et,[e("div",tt,[n(p(le),{class:"w-8 h-8 md:w-12 md:h-12 text-white"})]),e("div",st,d(s.$t("Delete address")),1),e("div",at,d(s.$t("Are you sure want to delete this address")),1),e("div",ot,[e("button",{class:"text-slate-800 grow text-base font-medium px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-[10px] border border-slate-300",onClick:t[12]||(t[12]=l=>_.value=!1)},d(s.$t("Cancel")),1),e("button",{class:"text-white grow bg-red-500 text-base font-medium px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-[10px]",onClick:J},d(s.$t("Yes")),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64)}}},lt=ie(dt,[["__scopeId","data-v-49927e3c"]]),rt={class:"bg-white px-3 text-slate-600 flex items-center gap-1 pt-2 leading-normal"},nt={class:"p-3 md:p-4 xl:p-6"},it={class:"max-w-5xl mx-auto"},bt={__name:"EditAddress",setup(C){const c=se(),h=R(),f=w({});return Z(()=>{f.value=h.getAddressById(c.params.id)}),(r,_)=>{const v=ee("router-link");return m(),u("div",null,[e("div",rt,[n(p(ne),{class:"w-5 h-5 md:w-6 md:h-6"}),n(v,{to:"/manage-address",class:"hover:text-primary"},{default:b(()=>[$(d(r.$t("Manage Address")),1)]),_:1}),e("span",null,"/ "+d(r.$t("Edit Address")),1)]),n(pe,{title:r.$t("Edit Address")},null,8,["title"]),e("div",nt,[e("div",it,[n(lt,{address:f.value},null,8,["address"])])])])}}};export{bt as default};
